{"ast":null,"code":"var _jsxFileName = \"/Users/Buffalo/Desktop/menu/copia/Provisional_rep_menu/src/pages/auth/menu-editar/vistas/items/e-card-producto.jsx\";\nimport React from 'react';\nimport { ButtonIcon } from '../../../../../components/buttons/button-icon';\nimport { PostMethod } from '../../../../../utils/peticiones';\nimport BarCharge from '../../../../../components/spiners/bar-charge';\nimport { ErrorAlert } from '../../../../../utils/alertas';\nimport ReactTooltip from 'react-tooltip';\n\nconst EcardProducto = props => {\n  const token = props.sesion.token;\n  const {\n    name,\n    price,\n    id_product\n  } = props.producto;\n  const [up, setUp] = React.useState(false);\n  const [down, setDown] = React.useState(false);\n\n  const openDelete = () => {\n    props.history.push(`/dashboard/menu/${props.match.params.menu}/section/${props.producto.section_id}/product/${props.producto.id_product}/delete`);\n  };\n\n  const openEdit = () => {\n    props.history.push(`/dashboard/menu/${props.match.params.menu}/section/${props.producto.section_id}/product/${props.producto.id_product}/editar`);\n  };\n\n  const upItem = async () => {\n    setUp(true);\n    const productos = props.products;\n    const idSelected = props.producto.id_product;\n    const activeSection = props.producto.section_id;\n    const filterProductos = productos.filter(prdct => prdct.section_id === activeSection);\n    const mapProducts = filterProductos.map(prdct => prdct.id_product);\n    const indexSelected = mapProducts.indexOf(idSelected);\n\n    if (indexSelected === 0) {\n      console.log('primer elemento');\n      const [select] = filterProductos.splice(indexSelected, 1);\n      filterProductos.push(select);\n      const newProducts = {\n        id_menu: props.match.params.menu,\n        products: filterProductos\n      };\n      const result = await PostMethod(newProducts, 'api/users/product/sort', {\n        Authorization: 'Bearer ' + token\n      });\n\n      if (result.ok) {\n        console.log(result.response.data);\n        props.cleanProducts();\n        props.addProducts(result.response.data);\n        setUp(false);\n      } else {\n        ErrorAlert('Algo salio mal');\n      }\n\n      return;\n    }\n\n    const [select] = filterProductos.splice(indexSelected, 1, filterProductos[indexSelected - 1]);\n    filterProductos.splice(indexSelected - 1, 1, select);\n    const newProducts = {\n      id_menu: props.match.params.menu,\n      products: filterProductos\n    };\n    const result = await PostMethod(newProducts, 'api/users/product/sort', {\n      Authorization: 'Bearer ' + token\n    });\n\n    if (result.ok) {\n      console.log(result.response.data);\n      props.cleanProducts();\n      props.addProducts(result.response.data);\n      setUp(false);\n    } else {\n      ErrorAlert('Algo salio mal');\n    }\n  };\n\n  const downItem = async () => {\n    setDown(true);\n    const productos = props.products;\n    const idSelected = props.producto.id_product;\n    const activeSection = props.producto.section_id;\n    const filterProductos = productos.filter(prdct => prdct.section_id === activeSection);\n    const mapProducts = filterProductos.map(prdct => prdct.id_product);\n    const indexSelected = mapProducts.indexOf(idSelected);\n\n    if (indexSelected === filterProductos.length - 1) {\n      console.log('ultimo elemento');\n      const [select] = filterProductos.splice(indexSelected, 1);\n      filterProductos.unshift(select);\n      const newProducts = {\n        id_menu: props.match.params.menu,\n        products: filterProductos\n      };\n      const result = await PostMethod(newProducts, 'api/users/product/sort', {\n        Authorization: 'Bearer ' + token\n      });\n\n      if (result.ok) {\n        console.log(result.response.data);\n        props.cleanProducts();\n        props.addProducts(result.response.data);\n        setDown(false);\n      } else {\n        ErrorAlert('Algo salio mal');\n      }\n\n      return;\n    }\n\n    const [select] = filterProductos.splice(indexSelected, 1, filterProductos[indexSelected + 1]);\n    filterProductos.splice(indexSelected + 1, 1, select);\n    const newProducts = {\n      id_menu: props.match.params.menu,\n      products: filterProductos\n    };\n    const result = await PostMethod(newProducts, 'api/users/product/sort', {\n      Authorization: 'Bearer ' + token\n    });\n\n    if (result.ok) {\n      console.log(result.response.data);\n      props.cleanProducts();\n      props.addProducts(result.response.data);\n      setDown(false);\n    } else {\n      ErrorAlert('Algo salio mal');\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"section\", {\n    className: \"item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"section\", {\n    className: \"txt\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    \"data-tip\": true,\n    \"data-for\": `productName_${id_product}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 18\n    }\n  }, name)), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 17\n    }\n  }, \"$\", price), /*#__PURE__*/React.createElement(ReactTooltip, {\n    id: `productName_${id_product}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 17\n    }\n  }, name)), /*#__PURE__*/React.createElement(\"section\", {\n    className: \"buttons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ButtonIcon, {\n    onClick: openEdit,\n    fontSize: \"1rem\",\n    backColor: \"var(--colorcinco)\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-edit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 30\n    }\n  })), /*#__PURE__*/React.createElement(ButtonIcon, {\n    onClick: openDelete,\n    fontSize: \"1rem\",\n    backColor: \"var(--colorcinco)\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-trash-alt\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 22\n    }\n  })), up ? /*#__PURE__*/React.createElement(BarCharge, {\n    color: \"white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 25\n    }\n  }) : /*#__PURE__*/React.createElement(ButtonIcon, {\n    fontSize: \"1rem\",\n    backColor: \"var(--colorcinco)\",\n    onClick: upItem,\n    color: \"white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-chevron-circle-up\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 38\n    }\n  })), down ? /*#__PURE__*/React.createElement(BarCharge, {\n    color: \"white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 25\n    }\n  }) : /*#__PURE__*/React.createElement(ButtonIcon, {\n    fontSize: \"1rem\",\n    backColor: \"var(--colorcinco)\",\n    onClick: downItem,\n    color: \"white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-chevron-circle-down\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 38\n    }\n  }))));\n};\n\nexport default EcardProducto;","map":{"version":3,"sources":["/Users/Buffalo/Desktop/menu/copia/Provisional_rep_menu/src/pages/auth/menu-editar/vistas/items/e-card-producto.jsx"],"names":["React","ButtonIcon","PostMethod","BarCharge","ErrorAlert","ReactTooltip","EcardProducto","props","token","sesion","name","price","id_product","producto","up","setUp","useState","down","setDown","openDelete","history","push","match","params","menu","section_id","openEdit","upItem","productos","products","idSelected","activeSection","filterProductos","filter","prdct","mapProducts","map","indexSelected","indexOf","console","log","select","splice","newProducts","id_menu","result","Authorization","ok","response","data","cleanProducts","addProducts","downItem","length","unshift"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,+CAA3B;AACA,SAASC,UAAT,QAA2B,iCAA3B;AACA,OAAOC,SAAP,MAAsB,8CAAtB;AACA,SAASC,UAAT,QAA2B,8BAA3B;AACA,OAAOC,YAAP,MAAyB,eAAzB;;AAIA,MAAMC,aAAa,GAAIC,KAAD,IAAW;AAG7B,QAAMC,KAAK,GAAGD,KAAK,CAACE,MAAN,CAAaD,KAA3B;AACA,QAAM;AAACE,IAAAA,IAAD;AAAOC,IAAAA,KAAP;AAAcC,IAAAA;AAAd,MAA4BL,KAAK,CAACM,QAAxC;AACA,QAAM,CAACC,EAAD,EAAKC,KAAL,IAAcf,KAAK,CAACgB,QAAN,CAAe,KAAf,CAApB;AACA,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBlB,KAAK,CAACgB,QAAN,CAAe,KAAf,CAAxB;;AAEA,QAAMG,UAAU,GAAG,MAAK;AACpBZ,IAAAA,KAAK,CAACa,OAAN,CAAcC,IAAd,CAAoB,mBAAkBd,KAAK,CAACe,KAAN,CAAYC,MAAZ,CAAmBC,IAAK,YAAWjB,KAAK,CAACM,QAAN,CAAeY,UAAW,YAAWlB,KAAK,CAACM,QAAN,CAAeD,UAAW,SAAxI;AACH,GAFD;;AAGA,QAAMc,QAAQ,GAAG,MAAK;AAClBnB,IAAAA,KAAK,CAACa,OAAN,CAAcC,IAAd,CAAoB,mBAAkBd,KAAK,CAACe,KAAN,CAAYC,MAAZ,CAAmBC,IAAK,YAAWjB,KAAK,CAACM,QAAN,CAAeY,UAAW,YAAWlB,KAAK,CAACM,QAAN,CAAeD,UAAW,SAAxI;AACH,GAFD;;AAIA,QAAMe,MAAM,GAAG,YAAW;AACtBZ,IAAAA,KAAK,CAAC,IAAD,CAAL;AACA,UAAMa,SAAS,GAAGrB,KAAK,CAACsB,QAAxB;AACA,UAAMC,UAAU,GAAGvB,KAAK,CAACM,QAAN,CAAeD,UAAlC;AACA,UAAMmB,aAAa,GAAGxB,KAAK,CAACM,QAAN,CAAeY,UAArC;AACA,UAAMO,eAAe,GAAGJ,SAAS,CAACK,MAAV,CAAkBC,KAAD,IAAWA,KAAK,CAACT,UAAN,KAAqBM,aAAjD,CAAxB;AACA,UAAMI,WAAW,GAAGH,eAAe,CAACI,GAAhB,CAAqBF,KAAD,IAAWA,KAAK,CAACtB,UAArC,CAApB;AAEA,UAAMyB,aAAa,GAAGF,WAAW,CAACG,OAAZ,CAAoBR,UAApB,CAAtB;;AAEA,QAAGO,aAAa,KAAK,CAArB,EAAuB;AACnBE,MAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACA,YAAM,CAACC,MAAD,IAAWT,eAAe,CAACU,MAAhB,CAAuBL,aAAvB,EAAsC,CAAtC,CAAjB;AACAL,MAAAA,eAAe,CAACX,IAAhB,CAAqBoB,MAArB;AAEA,YAAME,WAAW,GAAG;AAChBC,QAAAA,OAAO,EAAErC,KAAK,CAACe,KAAN,CAAYC,MAAZ,CAAmBC,IADZ;AAEhBK,QAAAA,QAAQ,EAACG;AAFO,OAApB;AAKA,YAAMa,MAAM,GAAG,MAAM3C,UAAU,CAACyC,WAAD,EAAc,wBAAd,EAAwC;AAACG,QAAAA,aAAa,EAAC,YAAatC;AAA5B,OAAxC,CAA/B;;AACA,UAAGqC,MAAM,CAACE,EAAV,EAAa;AACTR,QAAAA,OAAO,CAACC,GAAR,CAAYK,MAAM,CAACG,QAAP,CAAgBC,IAA5B;AACA1C,QAAAA,KAAK,CAAC2C,aAAN;AACA3C,QAAAA,KAAK,CAAC4C,WAAN,CAAkBN,MAAM,CAACG,QAAP,CAAgBC,IAAlC;AACAlC,QAAAA,KAAK,CAAC,KAAD,CAAL;AACH,OALD,MAKK;AACDX,QAAAA,UAAU,CAAC,gBAAD,CAAV;AACH;;AACD;AACH;;AAED,UAAM,CAACqC,MAAD,IAAWT,eAAe,CAACU,MAAhB,CAAuBL,aAAvB,EAAsC,CAAtC,EAAyCL,eAAe,CAACK,aAAa,GAAG,CAAjB,CAAxD,CAAjB;AACAL,IAAAA,eAAe,CAACU,MAAhB,CAAuBL,aAAa,GAAG,CAAvC,EAA0C,CAA1C,EAA6CI,MAA7C;AAEA,UAAME,WAAW,GAAG;AAChBC,MAAAA,OAAO,EAAErC,KAAK,CAACe,KAAN,CAAYC,MAAZ,CAAmBC,IADZ;AAEhBK,MAAAA,QAAQ,EAACG;AAFO,KAApB;AAKA,UAAMa,MAAM,GAAG,MAAM3C,UAAU,CAACyC,WAAD,EAAc,wBAAd,EAAwC;AAACG,MAAAA,aAAa,EAAC,YAAatC;AAA5B,KAAxC,CAA/B;;AACA,QAAGqC,MAAM,CAACE,EAAV,EAAa;AACTR,MAAAA,OAAO,CAACC,GAAR,CAAYK,MAAM,CAACG,QAAP,CAAgBC,IAA5B;AACA1C,MAAAA,KAAK,CAAC2C,aAAN;AACA3C,MAAAA,KAAK,CAAC4C,WAAN,CAAkBN,MAAM,CAACG,QAAP,CAAgBC,IAAlC;AACAlC,MAAAA,KAAK,CAAC,KAAD,CAAL;AACH,KALD,MAKK;AACDX,MAAAA,UAAU,CAAC,gBAAD,CAAV;AACH;AACJ,GAjDD;;AAoDA,QAAMgD,QAAQ,GAAG,YAAW;AACxBlC,IAAAA,OAAO,CAAC,IAAD,CAAP;AACA,UAAMU,SAAS,GAAGrB,KAAK,CAACsB,QAAxB;AACA,UAAMC,UAAU,GAAGvB,KAAK,CAACM,QAAN,CAAeD,UAAlC;AACA,UAAMmB,aAAa,GAAGxB,KAAK,CAACM,QAAN,CAAeY,UAArC;AACA,UAAMO,eAAe,GAAGJ,SAAS,CAACK,MAAV,CAAkBC,KAAD,IAAWA,KAAK,CAACT,UAAN,KAAqBM,aAAjD,CAAxB;AACA,UAAMI,WAAW,GAAGH,eAAe,CAACI,GAAhB,CAAqBF,KAAD,IAAWA,KAAK,CAACtB,UAArC,CAApB;AAEA,UAAMyB,aAAa,GAAGF,WAAW,CAACG,OAAZ,CAAoBR,UAApB,CAAtB;;AAEA,QAAGO,aAAa,KAAKL,eAAe,CAACqB,MAAhB,GAAyB,CAA9C,EAAiD;AAC7Cd,MAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACA,YAAM,CAACC,MAAD,IAAWT,eAAe,CAACU,MAAhB,CAAuBL,aAAvB,EAAsC,CAAtC,CAAjB;AACAL,MAAAA,eAAe,CAACsB,OAAhB,CAAwBb,MAAxB;AAEA,YAAME,WAAW,GAAG;AAChBC,QAAAA,OAAO,EAAErC,KAAK,CAACe,KAAN,CAAYC,MAAZ,CAAmBC,IADZ;AAEhBK,QAAAA,QAAQ,EAACG;AAFO,OAApB;AAKA,YAAMa,MAAM,GAAG,MAAM3C,UAAU,CAACyC,WAAD,EAAc,wBAAd,EAAwC;AAACG,QAAAA,aAAa,EAAC,YAAatC;AAA5B,OAAxC,CAA/B;;AACA,UAAGqC,MAAM,CAACE,EAAV,EAAa;AACTR,QAAAA,OAAO,CAACC,GAAR,CAAYK,MAAM,CAACG,QAAP,CAAgBC,IAA5B;AACA1C,QAAAA,KAAK,CAAC2C,aAAN;AACA3C,QAAAA,KAAK,CAAC4C,WAAN,CAAkBN,MAAM,CAACG,QAAP,CAAgBC,IAAlC;AACA/B,QAAAA,OAAO,CAAC,KAAD,CAAP;AACH,OALD,MAKK;AACDd,QAAAA,UAAU,CAAC,gBAAD,CAAV;AACH;;AACD;AACH;;AAED,UAAM,CAACqC,MAAD,IAAWT,eAAe,CAACU,MAAhB,CAAuBL,aAAvB,EAAsC,CAAtC,EAAyCL,eAAe,CAACK,aAAa,GAAG,CAAjB,CAAxD,CAAjB;AACAL,IAAAA,eAAe,CAACU,MAAhB,CAAuBL,aAAa,GAAG,CAAvC,EAA0C,CAA1C,EAA6CI,MAA7C;AAEA,UAAME,WAAW,GAAG;AAChBC,MAAAA,OAAO,EAAErC,KAAK,CAACe,KAAN,CAAYC,MAAZ,CAAmBC,IADZ;AAEhBK,MAAAA,QAAQ,EAACG;AAFO,KAApB;AAKA,UAAMa,MAAM,GAAG,MAAM3C,UAAU,CAACyC,WAAD,EAAc,wBAAd,EAAwC;AAACG,MAAAA,aAAa,EAAC,YAAatC;AAA5B,KAAxC,CAA/B;;AACA,QAAGqC,MAAM,CAACE,EAAV,EAAa;AACTR,MAAAA,OAAO,CAACC,GAAR,CAAYK,MAAM,CAACG,QAAP,CAAgBC,IAA5B;AACA1C,MAAAA,KAAK,CAAC2C,aAAN;AACA3C,MAAAA,KAAK,CAAC4C,WAAN,CAAkBN,MAAM,CAACG,QAAP,CAAgBC,IAAlC;AACA/B,MAAAA,OAAO,CAAC,KAAD,CAAP;AACH,KALD,MAKK;AACDd,MAAAA,UAAU,CAAC,gBAAD,CAAV;AACH;AACJ,GAjDD;;AAqDA,sBACI;AAAS,IAAA,SAAS,EAAC,MAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAS,IAAA,SAAS,EAAC,KAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,oBAAL;AAAc,gBAAW,eAAcQ,UAAW,EAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIF,IAAJ,CADD,CADJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAOC,KAAP,CAHJ,eAII,oBAAC,YAAD;AAAc,IAAA,EAAE,EAAG,eAAcC,UAAW,EAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAgDF,IAAhD,CAJJ,CADJ,eASI;AAAS,IAAA,SAAS,EAAC,SAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEQ,oBAAC,UAAD;AAAY,IAAA,OAAO,EAAEgB,QAArB;AACoB,IAAA,QAAQ,EAAC,MAD7B;AAEoB,IAAA,SAAS,EAAC,mBAF9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAGS;AAAG,IAAA,SAAS,EAAC,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHT,CAFR,eAQQ,oBAAC,UAAD;AAAY,IAAA,OAAO,EAAEP,UAArB;AACY,IAAA,QAAQ,EAAC,MADrB;AAEY,IAAA,SAAS,EAAC,mBAFtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAGC;AAAG,IAAA,SAAS,EAAC,kBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHD,CARR,EAgBSL,EAAE,gBAEC,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFD,gBAKC,oBAAC,UAAD;AACY,IAAA,QAAQ,EAAC,MADrB;AAEY,IAAA,SAAS,EAAC,mBAFtB;AAGY,IAAA,OAAO,EAAEa,MAHrB;AAIY,IAAA,KAAK,EAAC,OAJlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAKa;AAAG,IAAA,SAAS,EAAC,0BAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALb,CArBZ,EA4BSV,IAAI,gBAED,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFC,gBAMD,oBAAC,UAAD;AACY,IAAA,QAAQ,EAAC,MADrB;AAEY,IAAA,SAAS,EAAC,mBAFtB;AAGY,IAAA,OAAO,EAAEmC,QAHrB;AAIY,IAAA,KAAK,EAAC,OAJlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAKa;AAAG,IAAA,SAAS,EAAC,4BAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALb,CAlCZ,CATJ,CADJ;AA+DH,CAvLD;;AAyLA,eAAe9C,aAAf","sourcesContent":["import React from 'react';\nimport { ButtonIcon } from '../../../../../components/buttons/button-icon';\nimport { PostMethod } from '../../../../../utils/peticiones';\nimport BarCharge from '../../../../../components/spiners/bar-charge';\nimport { ErrorAlert } from '../../../../../utils/alertas';\nimport ReactTooltip from 'react-tooltip'\n\n\n\nconst EcardProducto = (props) => {\n\n    \n    const token = props.sesion.token\n    const {name, price, id_product} = props.producto\n    const [up, setUp] = React.useState(false)\n    const [down, setDown] = React.useState(false)\n\n    const openDelete = () =>{\n        props.history.push(`/dashboard/menu/${props.match.params.menu}/section/${props.producto.section_id}/product/${props.producto.id_product}/delete`)\n    }\n    const openEdit = () =>{\n        props.history.push(`/dashboard/menu/${props.match.params.menu}/section/${props.producto.section_id}/product/${props.producto.id_product}/editar`)\n    }\n\n    const upItem = async () =>{\n        setUp(true)\n        const productos = props.products\n        const idSelected = props.producto.id_product\n        const activeSection = props.producto.section_id\n        const filterProductos = productos.filter((prdct) => prdct.section_id === activeSection)\n        const mapProducts = filterProductos.map((prdct) => prdct.id_product)\n    \n        const indexSelected = mapProducts.indexOf(idSelected)\n\n        if(indexSelected === 0){\n            console.log('primer elemento')\n            const [select] = filterProductos.splice(indexSelected, 1)\n            filterProductos.push(select)\n\n            const newProducts = {\n                id_menu: props.match.params.menu,\n                products:filterProductos\n            }\n           \n            const result = await PostMethod(newProducts, 'api/users/product/sort', {Authorization:'Bearer ' +  token})\n            if(result.ok){\n                console.log(result.response.data);\n                props.cleanProducts();\n                props.addProducts(result.response.data);\n                setUp(false) \n            }else{\n                ErrorAlert('Algo salio mal')\n            }\n            return;\n        }\n       \n        const [select] = filterProductos.splice(indexSelected, 1, filterProductos[indexSelected - 1])\n        filterProductos.splice(indexSelected - 1, 1, select)\n\n        const newProducts = {\n            id_menu: props.match.params.menu,\n            products:filterProductos\n        }\n\n        const result = await PostMethod(newProducts, 'api/users/product/sort', {Authorization:'Bearer ' +  token})\n        if(result.ok){\n            console.log(result.response.data);\n            props.cleanProducts();\n            props.addProducts(result.response.data); \n            setUp(false)\n        }else{\n            ErrorAlert('Algo salio mal')\n        }\n    }\n\n\n    const downItem = async () =>{\n        setDown(true)\n        const productos = props.products\n        const idSelected = props.producto.id_product\n        const activeSection = props.producto.section_id\n        const filterProductos = productos.filter((prdct) => prdct.section_id === activeSection)\n        const mapProducts = filterProductos.map((prdct) => prdct.id_product)\n    \n        const indexSelected = mapProducts.indexOf(idSelected)\n\n        if(indexSelected === filterProductos.length - 1 ){\n            console.log('ultimo elemento')\n            const [select] = filterProductos.splice(indexSelected, 1)\n            filterProductos.unshift(select)\n            \n            const newProducts = {\n                id_menu: props.match.params.menu,\n                products:filterProductos\n            }\n           \n            const result = await PostMethod(newProducts, 'api/users/product/sort', {Authorization:'Bearer ' +  token})\n            if(result.ok){\n                console.log(result.response.data);\n                props.cleanProducts();\n                props.addProducts(result.response.data);\n                setDown(false) \n            }else{\n                ErrorAlert('Algo salio mal')\n            }\n            return;\n        }\n       \n        const [select] = filterProductos.splice(indexSelected, 1, filterProductos[indexSelected + 1])\n        filterProductos.splice(indexSelected + 1, 1, select)\n\n        const newProducts = {\n            id_menu: props.match.params.menu,\n            products:filterProductos\n        }\n\n        const result = await PostMethod(newProducts, 'api/users/product/sort', {Authorization:'Bearer ' +  token})\n        if(result.ok){\n            console.log(result.response.data);\n            props.cleanProducts();\n            props.addProducts(result.response.data); \n            setDown(false)\n        }else{\n            ErrorAlert('Algo salio mal')\n        }\n    }\n\n\n\n    return (\n        <section className=\"item\">\n            <section className=\"txt\">\n                <div data-tip data-for={`productName_${id_product}`}\n                ><p>{name}</p></div>\n                <div>${price}</div>\n                <ReactTooltip id={`productName_${id_product}`}>{name}</ReactTooltip>\n            </section>\n\n\n            <section className=\"buttons\">\n\n                    <ButtonIcon onClick={openEdit}\n                                        fontSize=\"1rem\"\n                                        backColor='var(--colorcinco)'\n                            ><i className=\"fas fa-edit\"></i></ButtonIcon>\n\n\n                    <ButtonIcon onClick={openDelete}\n                                fontSize=\"1rem\"\n                                backColor='var(--colorcinco)'\n                    ><i className=\"fas fa-trash-alt\"></i></ButtonIcon>\n\n\n\n                    {/* ----------->BOTONES PARA REODENAR */}\n                    {up ? \n\n                        <BarCharge color=\"white\"/>\n\n                        :\n                        <ButtonIcon  \n                                    fontSize=\"1rem\"\n                                    backColor='var(--colorcinco)'\n                                    onClick={upItem}\n                                    color='white'\n                                    ><i className=\"fas fa-chevron-circle-up\"></i></ButtonIcon>\n                    }\n                    {down ?\n\n                        <BarCharge color=\"white\"/>\n\n                        :\n    \n                        <ButtonIcon  \n                                    fontSize=\"1rem\"\n                                    backColor='var(--colorcinco)'\n                                    onClick={downItem}\n                                    color='white'\n                                    ><i className=\"fas fa-chevron-circle-down\"></i></ButtonIcon>\n                    }\n\n\n\n                    {/* ----------->BOTONES PARA REODENAR */}\n\n            </section>\n\n\n\n\n        </section>\n    );\n};\n\nexport default EcardProducto;"]},"metadata":{},"sourceType":"module"}