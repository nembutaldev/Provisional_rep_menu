{"ast":null,"code":"var _jsxFileName = \"/Users/Buffalo/Desktop/menu/popdavise-v2/src/pages/auth/menu-editar/vistas/items/e-subtitle.jsx\";\nimport React from 'react';\nimport { AddTitle } from '../../../menus/styles/menu-styles';\nimport { ContainerTitleMenu } from '../../styles/styles-menu';\nimport { ButtonAction } from '../../../../../components/buttons/button-action';\nimport { InputLineBottom } from '../../../../../components/inputs/inputs';\nimport { PutMethod, DeleteMethod } from '../../../../../utils/peticiones';\nimport { ErrorAlert, SuccesAlert } from '../../../../../utils/alertas';\nimport SpinerSmall from '../../../../../components/spiners/spiner-small';\nimport Modal from '../../../../../components/modales/modal';\nimport DeleteMenu from '../../forms/delete-menu';\n\nconst Esubtitle = props => {\n  //console.log('PROPS:TITLE', props)\n  const token = props.sesion.token;\n  const {\n    name,\n    id_menu\n  } = props.menu;\n  const [flagname, setFlagname] = React.useState(false);\n  const [nombre, setNombre] = React.useState(name);\n  const [load, setLoad] = React.useState(false);\n  const [modaldelete, setModaldelete] = React.useState(false);\n\n  const flagName = () => setFlagname(!flagname);\n\n  const cancel = () => setFlagname(false);\n\n  const handleName = e => {\n    setNombre(e.target.value);\n  };\n\n  const opencloseModal = () => {\n    setModaldelete(!modaldelete);\n  };\n\n  const cerrarDelete = () => {\n    setModaldelete(false);\n  };\n\n  const deleteMenu = async () => {\n    const ideMenu = id_menu;\n    const result = await DeleteMethod(`api/users/menu/${ideMenu}`, {\n      Authorization: 'Bearer ' + token\n    });\n\n    if (result.ok) {\n      props.history.push('/dashboard/menus');\n    } else {\n      ErrorAlert('Algo salio mal');\n    }\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoad(true);\n\n    if (nombre === '') {\n      setLoad(false);\n      setFlagname(false);\n      return;\n    }\n\n    const newMenu = {\n      name: nombre\n    };\n    const result = await PutMethod(newMenu, `api/users/menu/${id_menu}`, {\n      Authorization: 'Bearer ' + token\n    });\n\n    if (result.ok) {\n      const data = result.response.data.data;\n      props.addMenu(data);\n      setFlagname(false);\n      SuccesAlert('Nombre de menu actualizado');\n      setLoad(false);\n    } else {\n      ErrorAlert('Algo salio mal');\n      setLoad(false);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Modal, {\n    toggle: modaldelete,\n    toggleModal: opencloseModal,\n    cerrarFunction: cerrarDelete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(DeleteMenu, {\n    cerrarDelete: cerrarDelete,\n    deleteMenu: deleteMenu,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(AddTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ContainerTitleMenu, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"section\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 21\n    }\n  }, flagname ? /*#__PURE__*/React.createElement(InputLineBottom, {\n    autoFocus: true,\n    name: \"name\",\n    value: nombre,\n    onChange: handleName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 29\n    }\n  }) : /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 29\n    }\n  }, name)), load ? /*#__PURE__*/React.createElement(SpinerSmall, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 21\n    }\n  }) : /*#__PURE__*/React.createElement(\"section\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 21\n    }\n  }, flagname ? /*#__PURE__*/React.createElement(ButtonAction, {\n    style: {\n      margin: '0px 5px'\n    },\n    onClick: cancel,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      fontSize: '0.7rem',\n      color: 'white'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 33\n    }\n  }, \"Cancelar\")) : null, flagname ? /*#__PURE__*/React.createElement(ButtonAction, {\n    style: {\n      margin: '0px 5px'\n    },\n    onClick: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      fontSize: '0.7rem',\n      color: 'white'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 33\n    }\n  }, \"Guardar\")) : null, flagname ? null : /*#__PURE__*/React.createElement(ButtonAction, {\n    style: {\n      margin: '0px 5px'\n    },\n    onClick: flagName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      fontSize: '0.7rem',\n      color: 'white'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 33\n    }\n  }, \"Editar\")), /*#__PURE__*/React.createElement(ButtonAction, {\n    style: {\n      margin: '0px 5px'\n    },\n    onClick: opencloseModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-trash-alt\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 29\n    }\n  }))))));\n}; // -------------------------->REDUX\n\n\nexport default Esubtitle;","map":{"version":3,"sources":["/Users/Buffalo/Desktop/menu/popdavise-v2/src/pages/auth/menu-editar/vistas/items/e-subtitle.jsx"],"names":["React","AddTitle","ContainerTitleMenu","ButtonAction","InputLineBottom","PutMethod","DeleteMethod","ErrorAlert","SuccesAlert","SpinerSmall","Modal","DeleteMenu","Esubtitle","props","token","sesion","name","id_menu","menu","flagname","setFlagname","useState","nombre","setNombre","load","setLoad","modaldelete","setModaldelete","flagName","cancel","handleName","e","target","value","opencloseModal","cerrarDelete","deleteMenu","ideMenu","result","Authorization","ok","history","push","handleSubmit","preventDefault","newMenu","data","response","addMenu","margin","fontSize","color"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { AddTitle } from '../../../menus/styles/menu-styles';\nimport { ContainerTitleMenu } from '../../styles/styles-menu';\nimport { ButtonAction } from '../../../../../components/buttons/button-action';\nimport { InputLineBottom } from '../../../../../components/inputs/inputs';\nimport { PutMethod, DeleteMethod } from '../../../../../utils/peticiones';\nimport { ErrorAlert, SuccesAlert } from '../../../../../utils/alertas';\nimport SpinerSmall from '../../../../../components/spiners/spiner-small';\nimport Modal from '../../../../../components/modales/modal';\nimport DeleteMenu from '../../forms/delete-menu';\n\n\n\nconst Esubtitle = (props) => {\n\n    //console.log('PROPS:TITLE', props)\n    const token = props.sesion.token\n    const {name, id_menu} = props.menu\n    const [flagname, setFlagname] = React.useState(false)\n    const [nombre, setNombre] = React.useState(name)\n    const [load, setLoad] = React.useState(false)\n    const [modaldelete, setModaldelete] = React.useState(false)\n    \n    const flagName = () => setFlagname(!flagname)\n    const cancel = () => setFlagname(false)\n    const handleName = (e) =>{ setNombre(e.target.value) }\n    const opencloseModal = () => {setModaldelete(!modaldelete)}\n    const cerrarDelete= () => {setModaldelete(false)}\n\n    const deleteMenu = async () =>{\n        const ideMenu = id_menu\n        const result = await DeleteMethod(`api/users/menu/${ideMenu}`, {Authorization:'Bearer ' +  token})\n        if(result.ok){\n            props.history.push('/dashboard/menus');\n        }else{\n            ErrorAlert('Algo salio mal')\n        }\n    }\n    const handleSubmit = async (e) =>{\n        e.preventDefault();\n        setLoad(true)\n        if(nombre === ''){\n            setLoad(false)\n            setFlagname(false)\n            return;\n        }\n        const newMenu = {\n            name: nombre\n        }\n        \n        const result = await PutMethod(newMenu, `api/users/menu/${id_menu}`, {Authorization:'Bearer ' + token })\n        if(result.ok){\n            const data = result.response.data.data\n            props.addMenu(data)\n            setFlagname(false)\n            SuccesAlert('Nombre de menu actualizado')\n            setLoad(false)\n        }else{\n            ErrorAlert('Algo salio mal')\n            setLoad(false)\n        }\n\n\n    }\n\n    return (\n        <>\n            {/* ELIMINAR MENU */}\n            <Modal toggle={modaldelete} toggleModal={opencloseModal} cerrarFunction={cerrarDelete}>\n                <DeleteMenu cerrarDelete={cerrarDelete} deleteMenu={deleteMenu}/>\n            </Modal>\n            {/* ELIMINAR MENU */}\n\n            <AddTitle>\n                <ContainerTitleMenu>\n\n                    <section>\n                        {flagname ?\n                            <InputLineBottom autoFocus  name=\"name\"\n                                                        value={nombre}\n                                                        onChange={handleName}\n                                                        />\n                            :\n                            <p>{name}</p>\n                        }\n                    </section>\n                    {load ?\n\n                    <SpinerSmall/>\n\n                    :\n                    <section>\n                        {flagname ?\n                            <ButtonAction style={{margin:'0px 5px'}} onClick={cancel}>\n                                <span style={{fontSize:'0.7rem', color:'white'}}>Cancelar</span></ButtonAction>\n                            :\n                            null\n                        }\n\n                        {flagname ?\n                            <ButtonAction style={{margin:'0px 5px'}} onClick={handleSubmit}>\n                                <span style={{fontSize:'0.7rem', color:'white'}}>Guardar</span></ButtonAction>\n                            :\n                            null\n                        }\n\n                        {flagname ?\n                            null\n                            :\n                            <ButtonAction style={{margin:'0px 5px'}} onClick={flagName}>\n                                <span style={{fontSize:'0.7rem', color:'white'}}>Editar</span></ButtonAction>\n                        }\n\n                        <ButtonAction style={{margin:'0px 5px'}} onClick={opencloseModal}>\n                            <i className=\"fas fa-trash-alt\"></i></ButtonAction>\n                        \n                    </section>\n                    }\n\n                </ContainerTitleMenu>\n            </AddTitle>\n        </>\n    );\n};\n\n\n\n\n// -------------------------->REDUX\n\n\nexport default Esubtitle\n"]},"metadata":{},"sourceType":"module"}