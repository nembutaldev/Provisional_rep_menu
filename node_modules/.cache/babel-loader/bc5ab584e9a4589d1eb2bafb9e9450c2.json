{"ast":null,"code":"var _jsxFileName = \"/Users/Buffalo/Desktop/menu/copia/Provisional_rep_menu/src/components/bartop/bartop.jsx\";\nimport React from 'react';\nimport { BartopContainer, BarTopCaja } from './styles/bartop-styles';\nimport Logo from '../../assets/img/circle-logo.png';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { GetMethod } from '../../utils/peticiones';\n\nconst BarTop = props => {\n  //console.log('SESIONBARRA', props);\n  const token = props.sesion;\n  const {\n    id_user\n  } = props.sesion.user;\n  const {\n    getProfile\n  } = props;\n  const [load, setLoad] = React.useState(true);\n\n  const cerrarSesion = () => {\n    props.logout();\n    props.cleanRestaurantes();\n    props.cleanProfile();\n  };\n\n  React.useEffect(() => {\n    const getUser = async () => {\n      const result = await GetMethod(`api/users/profile/${id_user}`, {\n        Authorization: 'Bearer ' + token\n      }); //console.log(result)\n\n      if (result.ok) {\n        const user = result.response.data.data;\n        getProfile(user);\n        setLoad(false);\n      } else {\n        setLoad(false);\n        alert('algo salio mal');\n      }\n    };\n\n    getUser();\n  }, [id_user, token, getProfile]);\n\n  if (load) {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 16\n      }\n    }, \"...\");\n  } else {\n    return /*#__PURE__*/React.createElement(BartopContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(BarTopCaja, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      className: \"left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 26\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: Logo,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 39\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 26\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 39\n      }\n    }, \"PopAdvise\")))), /*#__PURE__*/React.createElement(\"section\", {\n      className: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 30\n      }\n    }, \"Bienvenido: \", props.perfil.name.split(' ')[0])), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/dashboard\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-store\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 25\n      }\n    }, \"Mis restaurantes\"))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/dashboard/menus\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-utensils\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 25\n      }\n    }, \"Men\\xFAs\"))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/dashboard/perfil\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-user-circle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 25\n      }\n    }, \"Mi perfil\"))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: cerrarSesion,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-sign-out-alt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 25\n      }\n    }))))));\n  }\n}; //------> REDUX\n\n\nconst mapStateToProps = state => {\n  return {\n    perfil: state.profile,\n    sesion: state.login\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    cleanProfile: () => {\n      dispatch({\n        type: 'CLEAN_PROFILE'\n      });\n    },\n    getProfile: data => {\n      dispatch({\n        type: 'GET_PROFILE',\n        data: data\n      });\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BarTop);","map":{"version":3,"sources":["/Users/Buffalo/Desktop/menu/copia/Provisional_rep_menu/src/components/bartop/bartop.jsx"],"names":["React","BartopContainer","BarTopCaja","Logo","Link","connect","GetMethod","BarTop","props","token","sesion","id_user","user","getProfile","load","setLoad","useState","cerrarSesion","logout","cleanRestaurantes","cleanProfile","useEffect","getUser","result","Authorization","ok","response","data","alert","perfil","name","split","mapStateToProps","state","profile","login","mapDispatchToProps","dispatch","type"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { BartopContainer, BarTopCaja } from './styles/bartop-styles';\nimport Logo from '../../assets/img/circle-logo.png'\nimport { Link } from 'react-router-dom'\nimport {connect} from 'react-redux'\nimport { GetMethod } from '../../utils/peticiones';\n\n\n\nconst BarTop = (props) => {\n\n    //console.log('SESIONBARRA', props);\n    const token = props.sesion\n    const {id_user} = props.sesion.user\n    const {getProfile} = props\n    const [load, setLoad] = React.useState(true)\n\n    const cerrarSesion = () =>{\n        props.logout();\n        props.cleanRestaurantes();\n        props.cleanProfile();\n    }\n\n    React.useEffect(() =>{\n        const getUser = async () =>{\n            const result = await GetMethod(`api/users/profile/${id_user}`, {Authorization:'Bearer ' + token})\n            //console.log(result)\n            if(result.ok){\n                const user = result.response.data.data\n                getProfile(user)\n                setLoad(false)            \n            }else{\n                setLoad(false)            \n                alert('algo salio mal')\n            }\n        }\n        getUser()\n    },[id_user, token,getProfile])\n\n   \n\n    if(load){\n        return <p>...</p>\n    }else{\n\n\n\n        return (\n            <BartopContainer>\n            <BarTopCaja>\n    \n                <section className=\"left\">\n                    <div><Link to=\"/\"><img src={Logo} alt=\"\"/></Link></div>\n                    <div><Link to=\"/\"><h1>PopAdvise</h1></Link></div>\n                </section>\n    \n    \n    \n                <section className=\"right\">\n                    \n                        <div><p>Bienvenido: {props.perfil.name.split(' ')[0]}</p></div>\n                    \n                    <div>\n                        <Link to=\"/dashboard\">\n                        {/* TO DO: Aqui va una ruta hacia el perfil  */}\n                        <i className=\"fas fa-store\"></i>\n                        <span>Mis restaurantes</span>\n                        </Link>\n                    </div>\n                    \n                    <div>\n                        <Link to=\"/dashboard/menus\">\n                        {/* TO DO: Aqui va una ruta hacia el perfil  */}\n                        <i className=\"fas fa-utensils\"></i>\n                        <span>Menús</span>\n                        </Link>\n                    </div>\n    \n                    <div>\n                        <Link to=\"/dashboard/perfil\">\n                        {/* TO DO: Aqui va una ruta hacia el perfil  */}\n                        <i className=\"fas fa-user-circle\"></i>\n                        <span>Mi perfil</span>\n                        </Link>\n                    </div>\n    \n                    <div>\n                        <button onClick={cerrarSesion}>\n                        <i className=\"fas fa-sign-out-alt\"></i>\n                        </button>\n                    </div>\n    \n                </section>\n    \n            </BarTopCaja>\n            </BartopContainer>\n        );\n\n\n\n\n    }\n\n    \n};\n\n\n//------> REDUX\nconst mapStateToProps = (state) => {\n    return {\n        perfil: state.profile,\n        sesion: state.login\n    }\n}\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        cleanProfile: () => {\n            dispatch({type:'CLEAN_PROFILE'})\n        },\n        getProfile:(data)=>{\n            dispatch({type:'GET_PROFILE', data:data})\n        }\n    }\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(BarTop)\n\n\n"]},"metadata":{},"sourceType":"module"}