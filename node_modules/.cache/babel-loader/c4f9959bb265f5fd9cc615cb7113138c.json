{"ast":null,"code":"var _jsxFileName = \"/Users/Buffalo/Desktop/menu/copia/Provisional_rep_menu/src/pages/auth/menu-editar/forms/delete-product.jsx\";\nimport React from 'react';\nimport Modal from '../../../../components/modales/modal';\nimport { TitleForm } from '../../menus/styles/menu-styles';\nimport { FieldInput } from '../../../../components/inputs/item-forms';\nimport { Split } from '../../../../components/containers/containers';\nimport { ButtonAction } from '../../../../components/buttons/button-action';\nimport { DeleteMethod } from '../../../../utils/peticiones';\nimport { connect } from 'react-redux';\nimport { SuccesAlert, ErrorAlert } from '../../../../utils/alertas';\nimport SpinerForm from '../../../../components/spiners/spiner-form';\n\nconst DeleteProduct = props => {\n  const [modal, setModal] = React.useState(false);\n  const {\n    product\n  } = props.match.params;\n  const [send, setSend] = React.useState(false);\n  React.useEffect(() => {\n    setTimeout(() => {\n      setModal(true);\n    }, 100);\n  }, []);\n\n  const openClose = () => {\n    setModal(!modal);\n    props.history.push(`/dashboard/menu/${props.match.params.menu}`);\n  };\n\n  const closeModal = () => {\n    setModal(false);\n    props.history.push(`/dashboard/menu/${props.match.params.menu}`);\n  };\n\n  const handleDelete = async () => {\n    setSend(true);\n    const products = props.productos;\n    const selectId = parseInt(product);\n    const mapProducts = products.map(product => product.id_product);\n    const index = mapProducts.indexOf(selectId);\n    const result = await DeleteMethod(`api/users/product/${product}`);\n\n    if (result.ok) {\n      products.splice(index, 1);\n      props.cleanProducts();\n      props.editProducts(products);\n      SuccesAlert('Producto eliminado');\n      setSend(false);\n      props.history.push(`/dashboard/menu/${props.match.params.menu}`);\n    } else {\n      ErrorAlert('Algo salio mal');\n      setSend(false);\n      props.history.push(`/dashboard/menu/${props.match.params.menu}`);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Modal, {\n    toggle: modal,\n    toggleModal: openClose,\n    cerrarFunction: closeModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TitleForm, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, \"\\xBFDesas borrar este producto?\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, \"Al eliminar este producto, se eliminar\\xE1 toda la informaci\\xF3n que contiene.\")), /*#__PURE__*/React.createElement(FieldInput, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, send ? /*#__PURE__*/React.createElement(SpinerForm, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 21\n    }\n  }) : /*#__PURE__*/React.createElement(\"section\", {\n    style: {\n      width: '100%',\n      maxWidth: '220px',\n      margin: 'auto'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Split, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(ButtonAction, {\n    onClick: handleDelete,\n    maxWidth: \"100px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 29\n    }\n  }, \"Si\"), /*#__PURE__*/React.createElement(ButtonAction, {\n    onClick: closeModal,\n    maxWidth: \"100px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 29\n    }\n  }, \"Cancelar\")))));\n}; //--------->REDUX\n\n\nconst mapStateToProps = state => {\n  return {\n    productos: state.menuProduct\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    editProducts: data => {\n      dispatch({\n        type: 'EDITAR_PRODUCT',\n        data: data\n      });\n    },\n    cleanProducts: () => {\n      dispatch({\n        type: 'CLEAN_PRODUCT'\n      });\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DeleteProduct);","map":{"version":3,"sources":["/Users/Buffalo/Desktop/menu/copia/Provisional_rep_menu/src/pages/auth/menu-editar/forms/delete-product.jsx"],"names":["React","Modal","TitleForm","FieldInput","Split","ButtonAction","DeleteMethod","connect","SuccesAlert","ErrorAlert","SpinerForm","DeleteProduct","props","modal","setModal","useState","product","match","params","send","setSend","useEffect","setTimeout","openClose","history","push","menu","closeModal","handleDelete","products","productos","selectId","parseInt","mapProducts","map","id_product","index","indexOf","result","ok","splice","cleanProducts","editProducts","width","maxWidth","margin","mapStateToProps","state","menuProduct","mapDispatchToProps","dispatch","data","type"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Modal from '../../../../components/modales/modal';\nimport { TitleForm } from '../../menus/styles/menu-styles';\nimport { FieldInput } from '../../../../components/inputs/item-forms';\nimport { Split } from '../../../../components/containers/containers';\nimport { ButtonAction } from '../../../../components/buttons/button-action';\nimport { DeleteMethod } from '../../../../utils/peticiones'\nimport { connect } from 'react-redux'\nimport { SuccesAlert, ErrorAlert } from '../../../../utils/alertas';\nimport SpinerForm from '../../../../components/spiners/spiner-form';\n\n\nconst DeleteProduct = (props) => {\n\n    const [modal, setModal] = React.useState(false)\n    const {product} = props.match.params\n\n    const [send, setSend] = React.useState(false)\n\n    React.useEffect(()=>{ setTimeout(()=>{ setModal(true)},100)},[])\n\n    const openClose = () =>{\n        setModal(!modal)\n        props.history.push(`/dashboard/menu/${props.match.params.menu}`)\n    }\n    const closeModal = () => {\n        setModal(false)\n        props.history.push(`/dashboard/menu/${props.match.params.menu}`)\n    }\n\n    const handleDelete = async () =>{\n        setSend(true)\n        const products = props.productos\n        const selectId = parseInt(product)\n        const mapProducts = products.map((product) => product.id_product)\n        const index = mapProducts.indexOf(selectId)\n        \n        \n    \n        const result = await DeleteMethod(`api/users/product/${product}`)\n        if(result.ok){\n            products.splice(index, 1)\n            props.cleanProducts();\n            props.editProducts(products);\n            SuccesAlert('Producto eliminado')\n            setSend(false)\n            props.history.push(`/dashboard/menu/${props.match.params.menu}`)\n        }else{\n            ErrorAlert('Algo salio mal')\n            setSend(false)\n            props.history.push(`/dashboard/menu/${props.match.params.menu}`)\n        }\n    }\n\n    \n\n\n\n    return (\n        <Modal toggle={modal} toggleModal={openClose} cerrarFunction={closeModal}>\n            <TitleForm>\n                <h1>¿Desas borrar este producto?</h1>\n                <p>Al eliminar este producto, se eliminará toda la información que contiene.</p>\n            </TitleForm>\n                  \n            <FieldInput>\n                {send ?\n\n                    <SpinerForm/>\n                    \n                    :\n                    <section style={{width:'100%', maxWidth:'220px', margin:'auto'}}>\n                        <Split>\n                            <ButtonAction   onClick={handleDelete}\n                                            maxWidth=\"100px\"\n                            >Si</ButtonAction>\n                            \n                            <ButtonAction   onClick={closeModal}\n                                            maxWidth=\"100px\"\n                            >Cancelar</ButtonAction>\n                        </Split>\n                    </section>\n\n                }\n                        \n            </FieldInput>\n        </Modal>\n    );\n};\n//--------->REDUX\nconst mapStateToProps = (state) => {\n    return {\n        productos: state.menuProduct\n    }\n}\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        editProducts: (data) => {\n            dispatch({type:'EDITAR_PRODUCT', data:data})\n        },\n        cleanProducts: () => {\n            dispatch({type:'CLEAN_PRODUCT'})\n        },\n    }\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(DeleteProduct)\n"]},"metadata":{},"sourceType":"module"}