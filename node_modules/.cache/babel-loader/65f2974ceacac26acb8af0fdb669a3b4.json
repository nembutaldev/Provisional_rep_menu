{"ast":null,"code":"var _jsxFileName = \"/Users/Buffalo/Desktop/menu/copia/Provisional_rep_menu/src/pages/auth/menu-editar/vistas/e-menu.jsx\";\n//\n//--->Aqui se hace la peticion para obtener \n//--->los elementos del menu\n//\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { GetMethod } from '../../../../utils/peticiones';\nimport { ErrorAlert } from '../../../../utils/alertas';\nimport Etitle from './items/e-title';\nimport Esections from './items/e-sections';\nimport { ContainerMenu } from '../../menus/styles/menu-styles';\nimport { CenterTop, WidthCaja } from '../../../../components/containers/containers';\nimport Esubtitle from './items/e-subtitle';\nimport SpinerCharge from '../../../../components/spiners/spiner-charge';\nimport CargandoTxt from '../../../../components/spiners/cargando-txt';\nimport FooterCreateMenu from '../../menus/items/footer-create-menu';\n\nconst Emenu = props => {\n  //console.log('SEGUNDO', props)\n  const token = props.sesion;\n  const {\n    menu\n  } = props.match.params;\n  const {\n    addMenu,\n    addSections,\n    addProducts\n  } = props; //ESTADOS --->\n\n  const [load, setLoad] = React.useState(true);\n  React.useEffect(() => {\n    if (props.match.params.menu) {\n      const getMenu = async () => {\n        const result = await GetMethod(`api/users/menu/object/${menu}`, {\n          Authorization: 'Bearer ' + token\n        });\n\n        if (result.ok) {\n          console.log('EDITAR MENU', result);\n          const menu = result.response.data.data;\n          const sections = result.response.data.data.sections;\n          const products = result.response.data.data.products;\n          addMenu(menu);\n          addSections(sections);\n          addProducts(products);\n          setLoad(false);\n        } else {\n          ErrorAlert('Algo salio mal');\n          setLoad(false);\n        }\n      };\n\n      getMenu();\n    }\n  }, [token, menu, addMenu, addProducts, addSections]);\n\n  if (load) {\n    return /*#__PURE__*/React.createElement(SpinerCharge, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 16\n      }\n    });\n  } else {\n    if (props.menu === null) {\n      return /*#__PURE__*/React.createElement(CargandoTxt, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 20\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(CenterTop, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(WidthCaja, {\n      maxWidth: \"700px\",\n      flow: \"column\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Etitle, Object.assign({}, props, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Esubtitle, Object.assign({}, props, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(ContainerMenu, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Esections, Object.assign({}, props, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(FooterCreateMenu, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }\n    })));\n  }\n}; //FUNCIONES DE REDUX\n\n\nconst mapStateToProps = state => {\n  return {\n    sesion: state.login,\n    menu: state.menu,\n    sections: state.menuSection,\n    products: state.menuProduct\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    addMenu: data => {\n      dispatch({\n        type: 'ADD_MENU',\n        data: data\n      });\n    },\n    addSections: data => {\n      dispatch({\n        type: 'EDITAR_SECTION',\n        data: data\n      });\n    },\n    addProducts: data => {\n      dispatch({\n        type: 'EDITAR_PRODUCT',\n        data: data\n      });\n    },\n    cleanProducts: () => {\n      dispatch({\n        type: 'CLEAN_PRODUCT'\n      });\n    },\n    reorderSections: data => {\n      dispatch({\n        type: 'EDITAR_SECTION',\n        data: data\n      });\n    },\n    cleanSections: () => {\n      dispatch({\n        type: 'CLEAN_SECTIONS'\n      });\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Emenu);","map":{"version":3,"sources":["/Users/Buffalo/Desktop/menu/copia/Provisional_rep_menu/src/pages/auth/menu-editar/vistas/e-menu.jsx"],"names":["React","connect","GetMethod","ErrorAlert","Etitle","Esections","ContainerMenu","CenterTop","WidthCaja","Esubtitle","SpinerCharge","CargandoTxt","FooterCreateMenu","Emenu","props","token","sesion","menu","match","params","addMenu","addSections","addProducts","load","setLoad","useState","useEffect","getMenu","result","Authorization","ok","console","log","response","data","sections","products","mapStateToProps","state","login","menuSection","menuProduct","mapDispatchToProps","dispatch","type","cleanProducts","reorderSections","cleanSections"],"mappings":"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","sourcesContent":["//\n//--->Aqui se hace la peticion para obtener \n//--->los elementos del menu\n//\nimport React from 'react';\nimport {connect} from 'react-redux'\nimport { GetMethod } from '../../../../utils/peticiones';\nimport { ErrorAlert } from '../../../../utils/alertas';\nimport Etitle from './items/e-title';\nimport Esections from './items/e-sections';\nimport { ContainerMenu } from '../../menus/styles/menu-styles';\nimport { CenterTop, WidthCaja } from '../../../../components/containers/containers';\nimport Esubtitle from './items/e-subtitle';\nimport SpinerCharge from '../../../../components/spiners/spiner-charge';\nimport CargandoTxt from '../../../../components/spiners/cargando-txt';\nimport FooterCreateMenu from '../../menus/items/footer-create-menu';\n\n\nconst Emenu = (props) => {\n\n    //console.log('SEGUNDO', props)\n    const token = props.sesion\n    const {menu} = props.match.params\n    const {addMenu, addSections, addProducts} = props\n    //ESTADOS --->\n    const [load, setLoad] = React.useState(true)\n\n    React.useEffect(() =>{\n        if(props.match.params.menu){\n            const getMenu = async () =>{\n                const result = await GetMethod(`api/users/menu/object/${menu}`,{Authorization:'Bearer ' + token})\n                if(result.ok){\n                    console.log('EDITAR MENU',result)\n                    const menu = result.response.data.data\n                    const sections = result.response.data.data.sections\n                    const products = result.response.data.data.products\n                    addMenu(menu)\n                    addSections(sections)\n                    addProducts(products)\n                    setLoad(false)\n                    \n                }else{\n                    ErrorAlert('Algo salio mal')\n                    setLoad(false)\n                }\n            }\n            getMenu();\n        }\n    },[token, menu, addMenu, addProducts, addSections])\n\n    if(load){\n        return <SpinerCharge/>\n    }else{\n\n        if(props.menu === null){\n            return <CargandoTxt/>\n        }\n\n        \n        return (\n            \n            <CenterTop>\n            <WidthCaja maxWidth=\"700px\" flow=\"column\">\n           \n\n\n                <Etitle {...props}/>\n                <Esubtitle {...props}/>\n                \n                <ContainerMenu>\n                    <Esections {...props}/>\n                </ContainerMenu>\n\n                <FooterCreateMenu/>\n            \n            </WidthCaja> \n            </CenterTop>\n            \n        );\n\n        \n    }\n};\n\n\n\n\n\n\n//FUNCIONES DE REDUX\nconst mapStateToProps = (state) => {\n    return {\n        sesion: state.login,\n        menu: state.menu,\n        sections: state.menuSection,\n        products: state.menuProduct\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        addMenu: (data) => {\n            dispatch({type:'ADD_MENU', data:data})\n        },\n        addSections: (data) => {\n            dispatch({type:'EDITAR_SECTION', data:data})\n        },\n        addProducts: (data) => {\n            dispatch({type:'EDITAR_PRODUCT', data:data})\n        },\n        cleanProducts: () => {\n            dispatch({type:'CLEAN_PRODUCT'})\n        },\n        reorderSections: (data) => {\n            dispatch({type:'EDITAR_SECTION', data:data})\n        },\n        cleanSections: () => {\n            dispatch({type:'CLEAN_SECTIONS'})\n        },\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Emenu)\n"]},"metadata":{},"sourceType":"module"}