{"ast":null,"code":"var _jsxFileName = \"/Users/Buffalo/Desktop/menu/popdavise-v2/src/views/auth/perfil/items/perfil-editar.jsx\";\nimport React from 'react';\nimport Modal from '../../../../components/modales/modal';\nimport { Form, FieldInput, Label } from '../../../../components/inputs/item-forms';\nimport { Input } from '../../../../components/inputs/inputs';\nimport { ButtonSubmit } from '../../../../components/buttons/button-submit';\nimport { connect } from 'react-redux';\nimport { PutMethod } from '../../../../utils/peticiones';\nimport { SuccesAlert } from '../../../../utils/alertas';\n\nconst PerfilEditar = props => {\n  //console.log('MODAL PROPS', props)\n  const token = props.sesion.token;\n  const {\n    id_user\n  } = props.sesion.user;\n  const [flag, setFlag] = React.useState(false);\n  const initialState = {\n    name: '',\n    telephone: '',\n    email: ''\n  };\n  const [profile, setProfile] = React.useState(initialState);\n  React.useEffect(() => {\n    setFlag(true);\n    setProfile({\n      name: props.perfil.name,\n      email: props.perfil.email,\n      telephone: props.perfil.telephone\n    });\n  }, [props]);\n\n  const flagModal = () => {\n    setFlag(!flag);\n    props.history.push('/dashboard/perfil');\n  };\n\n  const handleChange = e => {\n    const {\n      target: {\n        name,\n        value\n      }\n    } = e;\n    setProfile({ ...profile,\n      [name]: value\n    });\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const newProfile = {\n      name: profile.name,\n      email: profile.email,\n      telephone: profile.telephone\n    };\n    const result = await PutMethod(newProfile, `api/users/profile/${id_user}`, {\n      Authorization: 'Bearer ' + token\n    });\n    console.log('RESPUESTA', result.response.data.data);\n\n    if (result.ok) {\n      //props.cleanProfile()\n      props.getProfile(result.response.data.data);\n      flagModal();\n      SuccesAlert('Actualizado');\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Modal, {\n    toggle: flag,\n    toggleModal: flagModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(FieldInput, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 25\n    }\n  }, \"Nombre:\"), /*#__PURE__*/React.createElement(Input, {\n    placeholder: \"Nombre\",\n    value: profile.name,\n    name: \"name\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(FieldInput, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 25\n    }\n  }, \"Correo:\"), /*#__PURE__*/React.createElement(Input, {\n    placeholder: \"Email\",\n    value: profile.email,\n    name: \"email\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(FieldInput, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 25\n    }\n  }, \"Numero:\"), /*#__PURE__*/React.createElement(Input, {\n    placeholder: \"Tel\\xE9fono\",\n    value: profile.telephone,\n    name: \"telephone\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(FieldInput, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(ButtonSubmit, {\n    margin: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 25\n    }\n  }, \"Guardar\")))));\n}; //---------------------------_>REDUX\n\n\nconst mapStateToProps = state => {\n  return {\n    perfil: state.profile,\n    sesion: state.login\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    getProfile: data => {\n      dispatch({\n        type: 'GET_PROFILE',\n        data: data\n      });\n    },\n    cleanProfile: () => {\n      dispatch({\n        type: 'CLEAN_PROFILE'\n      });\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PerfilEditar);","map":{"version":3,"sources":["/Users/Buffalo/Desktop/menu/popdavise-v2/src/views/auth/perfil/items/perfil-editar.jsx"],"names":["React","Modal","Form","FieldInput","Label","Input","ButtonSubmit","connect","PutMethod","SuccesAlert","PerfilEditar","props","token","sesion","id_user","user","flag","setFlag","useState","initialState","name","telephone","email","profile","setProfile","useEffect","perfil","flagModal","history","push","handleChange","e","target","value","handleSubmit","preventDefault","newProfile","result","Authorization","console","log","response","data","ok","getProfile","mapStateToProps","state","login","mapDispatchToProps","dispatch","type","cleanProfile"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Modal from '../../../../components/modales/modal';\nimport { Form, FieldInput, Label } from '../../../../components/inputs/item-forms';\nimport { Input } from '../../../../components/inputs/inputs';\nimport { ButtonSubmit } from '../../../../components/buttons/button-submit';\nimport {connect} from 'react-redux'\nimport { PutMethod } from '../../../../utils/peticiones';\nimport { SuccesAlert } from '../../../../utils/alertas';\n\n\n\nconst PerfilEditar = (props) => {\n    //console.log('MODAL PROPS', props)\n    \n    const token = props.sesion.token\n    const {id_user} = props.sesion.user\n    const [flag, setFlag] = React.useState(false)\n    const initialState = { name:'', telephone:'', email:'' }\n    const [profile, setProfile] = React.useState(initialState)\n    \n\n    React.useEffect(() =>{\n        setFlag(true)\n        setProfile({\n            name:props.perfil.name,\n            email:props.perfil.email,\n            telephone:props.perfil.telephone\n        })\n    },[props])\n\n\n\n    const flagModal = () =>{\n        setFlag(!flag)\n        props.history.push('/dashboard/perfil')\n    }\n\n    const handleChange = (e) =>{\n        const {target:{name,value}} = e\n        setProfile({...profile, [name]:value})\n    }\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n\n        const newProfile = { name:profile.name, email: profile.email, telephone: profile.telephone }\n\n        const result = await PutMethod( newProfile, `api/users/profile/${id_user}`,{Authorization:'Bearer ' + token})\n        console.log('RESPUESTA', result.response.data.data)\n        if(result.ok){\n            //props.cleanProfile()\n            props.getProfile(result.response.data.data);\n            flagModal()\n            SuccesAlert('Actualizado')\n        }\n    }\n\n   \n    return (\n        <>\n            <Modal toggle={flag} toggleModal={flagModal}>\n               <Form onSubmit={handleSubmit}>\n\n                    <FieldInput>\n                        <Label>Nombre:</Label>\n                        <Input  placeholder=\"Nombre\"\n                                value={profile.name}\n                                name=\"name\"\n                                onChange={handleChange}\n                                />\n                    </FieldInput>\n\n                    <FieldInput>\n                        <Label>Correo:</Label>\n                        <Input  placeholder=\"Email\"\n                                value={profile.email}\n                                name=\"email\"\n                                onChange={handleChange}\n                                />\n                    </FieldInput>\n\n                    <FieldInput>\n                        <Label>Numero:</Label>\n                        <Input  placeholder=\"Teléfono\"\n                                value={profile.telephone}\n                                name=\"telephone\"\n                                onChange={handleChange}\n                                />\n                    </FieldInput>\n\n                    <FieldInput>\n                        <ButtonSubmit margin>Guardar</ButtonSubmit>\n                    </FieldInput>\n\n                </Form> \n            </Modal>\n        </>\n    );\n};\n\n\n\n\n//---------------------------_>REDUX\n\n\nconst mapStateToProps = (state) => {\n    return {\n        perfil: state.profile,\n        sesion: state.login\n    }\n}\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        getProfile: (data) => {\n            dispatch({type:'GET_PROFILE', data:data})\n        },\n        cleanProfile:()=>{\n            dispatch({type:'CLEAN_PROFILE'})\n        }\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PerfilEditar)"]},"metadata":{},"sourceType":"module"}