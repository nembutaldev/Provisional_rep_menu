{"ast":null,"code":"var _jsxFileName = \"/Users/Buffalo/Desktop/menu/copia/Provisional_rep_menu/src/pages/auth/menu-editar/vistas/items/e-card-section.jsx\";\nimport React from 'react';\nimport { ContainerSection } from '../../../menus/styles/menu-styles';\nimport { ButtonIcon } from '../../../../../components/buttons/button-icon';\nimport { ButtonAction } from '../../../../../components/buttons/button-action';\nimport { PostMethod } from '../../../../../utils/peticiones';\nimport BarCharge from '../../../../../components/spiners/bar-charge';\nimport EvistaProductos from './e-vista-productos';\n\nconst EcardSection = props => {\n  //console.log('propsSections', props )\n  const {\n    name,\n    id_section\n  } = props.section;\n  const token = props.sesion.token;\n  const [up, setUp] = React.useState(false);\n  const [down, setDown] = React.useState(false);\n\n  const openDelete = () => {\n    props.history.push(`/dashboard/menu/${props.match.params.menu}/section/${props.section.id_section}/delete`);\n  };\n\n  const openEdit = () => {\n    props.history.push(`/dashboard/menu/${props.match.params.menu}/section/${props.section.id_section}/editar`);\n  };\n\n  const upPosition = async () => {\n    setUp(true);\n    const secciones = props.sections;\n    const seleccionadoId = props.section.id_section;\n    const mapSecciones = secciones.map(seccion => seccion.id_section);\n    const indexSeleccionado = mapSecciones.indexOf(seleccionadoId);\n\n    if (indexSeleccionado === 0) {\n      console.log('primer elemento');\n      const [select] = secciones.splice(indexSeleccionado, 1);\n      secciones.push(select);\n      const newSections = {\n        id_menu: props.match.params.menu,\n        sections: secciones\n      };\n      const result = await PostMethod(newSections, 'api/users/section/sort', {\n        Authorization: 'Bearer ' + token\n      });\n\n      if (result.ok) {\n        console.log(result.response.data);\n        props.cleanSections();\n        props.reorderSections(result.response.data);\n        setUp(false);\n      } else {\n        console.log(result);\n        setUp(false);\n      }\n\n      return;\n    }\n\n    const upSelected = secciones[indexSeleccionado - 1];\n    const [select] = secciones.splice(indexSeleccionado, 1, upSelected);\n    secciones.splice(indexSeleccionado - 1, 1, select);\n    const newSections = {\n      id_menu: props.match.params.menu,\n      sections: secciones\n    };\n    const result = await PostMethod(newSections, 'api/users/section/sort', {\n      Authorization: 'Bearer ' + token\n    });\n\n    if (result.ok) {\n      console.log(result.response.data);\n      props.cleanSections();\n      props.reorderSections(result.response.data);\n      setUp(false);\n    } else {\n      console.log(result);\n      setUp(false);\n    }\n  };\n\n  const downPosition = async () => {\n    setDown(true);\n    const secciones = props.sections;\n    const seleccionadoId = props.section.id_section;\n    const mapSecciones = secciones.map(seccion => seccion.id_section);\n    const indexSeleccionado = mapSecciones.indexOf(seleccionadoId);\n\n    if (indexSeleccionado === secciones.length - 1) {\n      const [select] = secciones.splice(indexSeleccionado, 1);\n      secciones.unshift(select);\n      const newSections = {\n        id_menu: props.match.params.menu,\n        sections: secciones\n      };\n      const result = await PostMethod(newSections, 'api/users/section/sort', {\n        Authorization: 'Bearer ' + token\n      });\n\n      if (result.ok) {\n        console.log(result.response.data);\n        props.cleanSections();\n        props.reorderSections(result.response.data);\n        setDown(false);\n      } else {\n        console.log(result);\n        setDown(false);\n      }\n\n      return;\n    }\n\n    const downSelected = secciones[indexSeleccionado + 1];\n    const [select] = secciones.splice(indexSeleccionado, 1, downSelected);\n    secciones.splice(indexSeleccionado + 1, 1, select);\n    const newSections = {\n      id_menu: props.match.params.menu,\n      sections: secciones\n    };\n    const result = await PostMethod(newSections, 'api/users/section/sort', {\n      Authorization: 'Bearer ' + token\n    });\n\n    if (result.ok) {\n      console.log(result.response.data);\n      props.cleanSections();\n      props.reorderSections(result.response.data);\n      setDown(false);\n    } else {\n      console.log(result);\n      setDown(false);\n    }\n  };\n\n  const openProduct = () => {\n    ///dashboard/menu/:menu/section/:section/product\n    props.history.push(`/dashboard/menu/${props.match.params.menu}/section/${id_section}/product`);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ContainerSection, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"section\", {\n    className: \"header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      color: 'var(--colordos)'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-columns\",\n    style: {\n      marginRight: '5px',\n      color: 'var(--colordos)'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 21\n    }\n  }), name), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(ButtonIcon, {\n    fontSize: \"1rem\",\n    backColor: \"var(--colorcuatro)\",\n    onClick: openEdit,\n    color: \"var(--colordos)\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-edit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 38\n    }\n  })), /*#__PURE__*/React.createElement(ButtonIcon, {\n    fontSize: \"1rem\",\n    backColor: \"var(--colorcuatro)\",\n    onClick: openDelete,\n    color: \"var(--colordos)\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-trash-alt\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 38\n    }\n  })), up ? /*#__PURE__*/React.createElement(BarCharge, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 29\n    }\n  }) : /*#__PURE__*/React.createElement(ButtonIcon, {\n    fontSize: \"1rem\",\n    backColor: \"var(--colorcuatro)\",\n    onClick: upPosition,\n    color: \"var(--colordos)\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-chevron-circle-up\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 42\n    }\n  })), down ? /*#__PURE__*/React.createElement(BarCharge, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 29\n    }\n  }) : /*#__PURE__*/React.createElement(ButtonIcon, {\n    fontSize: \"1rem\",\n    backColor: \"var(--colorcuatro)\",\n    onClick: downPosition,\n    color: \"var(--colordos)\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-chevron-circle-down\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 42\n    }\n  })))), /*#__PURE__*/React.createElement(\"section\", {\n    className: \"body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(EvistaProductos, Object.assign({}, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(\"section\", {\n    className: \"btn-add\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ButtonAction, {\n    onClick: openProduct,\n    icon: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 17\n    }\n  }, \"A\\xF1adir productos\", /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-plus-circle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 21\n    }\n  })))));\n}; //--------> REDUX\n\n\nexport default EcardSection;","map":{"version":3,"sources":["/Users/Buffalo/Desktop/menu/copia/Provisional_rep_menu/src/pages/auth/menu-editar/vistas/items/e-card-section.jsx"],"names":["React","ContainerSection","ButtonIcon","ButtonAction","PostMethod","BarCharge","EvistaProductos","EcardSection","props","name","id_section","section","token","sesion","up","setUp","useState","down","setDown","openDelete","history","push","match","params","menu","openEdit","upPosition","secciones","sections","seleccionadoId","mapSecciones","map","seccion","indexSeleccionado","indexOf","console","log","select","splice","newSections","id_menu","result","Authorization","ok","response","data","cleanSections","reorderSections","upSelected","downPosition","length","unshift","downSelected","openProduct","color","marginRight","display"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { ContainerSection } from '../../../menus/styles/menu-styles';\nimport { ButtonIcon } from '../../../../../components/buttons/button-icon';\nimport { ButtonAction } from '../../../../../components/buttons/button-action';\nimport { PostMethod } from '../../../../../utils/peticiones';\nimport BarCharge from '../../../../../components/spiners/bar-charge';\nimport EvistaProductos from './e-vista-productos';\n\n\nconst EcardSection = (props) => {\n\n    //console.log('propsSections', props )\n    const {name, id_section} = props.section\n    const token = props.sesion.token \n\n    const [up, setUp] = React.useState(false)\n    const [down, setDown] = React.useState(false)\n\n    const openDelete = () =>{\n        props.history.push(`/dashboard/menu/${props.match.params.menu}/section/${props.section.id_section}/delete`)\n    }\n    const openEdit = () =>{\n        props.history.push(`/dashboard/menu/${props.match.params.menu}/section/${props.section.id_section}/editar`)\n    }\n\n\n    const upPosition = async () =>{\n        setUp(true)\n        const secciones = props.sections\n        const seleccionadoId = props.section.id_section\n        const mapSecciones = secciones.map((seccion) => seccion.id_section)\n        const indexSeleccionado = mapSecciones.indexOf(seleccionadoId)\n\n        if(indexSeleccionado === 0){\n            console.log('primer elemento')\n            const [select] = secciones.splice(indexSeleccionado, 1)\n            secciones.push(select)\n\n            const newSections = {\n                id_menu:props.match.params.menu,\n                sections: secciones\n            }\n\n            const result = await PostMethod(newSections, 'api/users/section/sort', {Authorization:'Bearer ' + token})\n            if(result.ok){\n                console.log(result.response.data);\n                props.cleanSections();\n                props.reorderSections(result.response.data);\n                setUp(false)\n            }else{\n                console.log(result)\n                setUp(false)\n            }\n            return;\n        }\n\n        \n        const upSelected = secciones[indexSeleccionado -  1]\n\n        const [select] = secciones.splice(indexSeleccionado, 1, upSelected)\n        secciones.splice(indexSeleccionado - 1, 1, select)\n        \n        const newSections = {\n            id_menu:props.match.params.menu,\n            sections: secciones\n        }\n        \n\n        const result = await PostMethod(newSections, 'api/users/section/sort', {Authorization:'Bearer ' + token})\n        if(result.ok){\n            console.log(result.response.data);\n            props.cleanSections();\n            props.reorderSections(result.response.data);\n            setUp(false)\n        }else{\n            console.log(result)\n            setUp(false)\n        }\n\n       \n    }\n\n    const downPosition = async () =>{\n        setDown(true)\n        const secciones = props.sections\n        const seleccionadoId = props.section.id_section\n        const mapSecciones = secciones.map((seccion) => seccion.id_section)\n        const indexSeleccionado = mapSecciones.indexOf(seleccionadoId)\n\n        if(indexSeleccionado === secciones.length -1){\n            const [select] = secciones.splice(indexSeleccionado, 1)\n            secciones.unshift(select)\n\n            const newSections = {\n                id_menu:props.match.params.menu,\n                sections: secciones\n            }\n\n            const result = await PostMethod(newSections, 'api/users/section/sort', {Authorization:'Bearer ' + token})\n            if(result.ok){\n                console.log(result.response.data);\n                props.cleanSections();\n                props.reorderSections(result.response.data);\n                setDown(false)\n            }else{\n                console.log(result)\n                setDown(false)\n            }\n            return;\n        }\n\n        const downSelected = secciones[indexSeleccionado +  1]\n\n        const [select] = secciones.splice(indexSeleccionado, 1, downSelected)\n        secciones.splice(indexSeleccionado + 1, 1, select)\n\n        const newSections = {\n            id_menu:props.match.params.menu,\n            sections: secciones\n        }\n        const result = await PostMethod(newSections, 'api/users/section/sort', {Authorization:'Bearer ' + token})\n        if(result.ok){\n            console.log(result.response.data);\n            props.cleanSections();\n            props.reorderSections(result.response.data);\n            setDown(false)\n        }else{\n            console.log(result)\n            setDown(false)\n        }\n\n       \n\n    }\n\n    const openProduct = () =>{\n        ///dashboard/menu/:menu/section/:section/product\n        props.history.push(`/dashboard/menu/${props.match.params.menu}/section/${id_section}/product`)\n    }\n\n    return (\n        <>\n        <ContainerSection>\n            <section className=\"header\">\n\n                <div style={{color:'var(--colordos)'}}>\n                    <i className=\"fas fa-columns\" style={{  marginRight:'5px',\n                                                            color:'var(--colordos)'\n                                                        }}></i>\n                                                        {name}\n                </div>\n            \n                <div style={{display:'flex'}}>\n                        <ButtonIcon  \n                                    fontSize=\"1rem\"\n                                    backColor='var(--colorcuatro)'\n                                    onClick={openEdit}\n                                    color='var(--colordos)'\n                                    ><i className=\"fas fa-edit\"></i></ButtonIcon>\n                        \n                        <ButtonIcon  \n                                    fontSize=\"1rem\"\n                                    backColor='var(--colorcuatro)'\n                                    onClick={openDelete}\n                                    color='var(--colordos)'\n                                    ><i className=\"fas fa-trash-alt\"></i></ButtonIcon>\n\n\n\n{/*----------> BOTONES PARA REORDENAR--------------------------------------------------> */}\n                        {up ?\n                            <BarCharge/>\n\n                            :\n                        \n                            <ButtonIcon  \n                                        fontSize=\"1rem\"\n                                        backColor='var(--colorcuatro)'\n                                        onClick={upPosition}\n                                        color='var(--colordos)'\n                                        \n                                        ><i className=\"fas fa-chevron-circle-up\"></i></ButtonIcon>\n                        }\n                        {down ?\n\n                            <BarCharge/>\n\n                            :\n\n                            <ButtonIcon  \n                                        fontSize=\"1rem\"\n                                        backColor='var(--colorcuatro)'\n                                        onClick={downPosition}\n                                        color='var(--colordos)'\n                                        \n                                        ><i className=\"fas fa-chevron-circle-down\"></i></ButtonIcon>\n                        }\n                </div>\n\n            </section>\n\n            {/* AQUI RENDERIZAN LOS PRODUCTOS */}\n            <section className=\"body\">\n                <EvistaProductos {...props}/>\n            </section>\n            {/* AQUI RENDERIZAN LOS PRODUCTOS */}\n\n            <section className=\"btn-add\">\n                \n                \n                <ButtonAction onClick={openProduct} icon>\n                    AÃ±adir productos\n                    <i className=\"fas fa-plus-circle\"></i>\n                </ButtonAction>\n                \n\n            </section>\n\n        </ContainerSection>\n        \n        </>\n    );\n};\n\n\n//--------> REDUX\n\nexport default EcardSection\n"]},"metadata":{},"sourceType":"module"}