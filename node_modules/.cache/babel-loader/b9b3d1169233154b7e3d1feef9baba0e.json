{"ast":null,"code":"var _jsxFileName = \"/Users/Buffalo/Desktop/menu/copia/Provisional_rep_menu/src/pages/auth/menu-editar/forms/create-section.jsx\";\nimport React from 'react';\nimport Modal from '../../../../components/modales/modal';\nimport { Form, FieldInput, Label } from '../../../../components/inputs/item-forms';\nimport { Input } from '../../../../components/inputs/inputs';\nimport { ButtonAction } from '../../../../components/buttons/button-action';\nimport { connect } from 'react-redux';\nimport { PostMethod } from '../../../../utils/peticiones';\nimport { ErrorAlert, SuccesAlert, InfoAlert } from '../../../../utils/alertas';\nimport SpinerForm from '../../../../components/spiners/spiner-form';\n\nconst CreateSection = props => {\n  //name\n  //index\n  //id_menu\n  //console.log('DESDE MODAL', props)\n  const token = props.sesion.token;\n  const [modal, setModal] = React.useState(false);\n  const [section, setSection] = React.useState('');\n  const [btn, setBtn] = React.useState(false);\n  React.useEffect(() => {\n    setModal(true);\n  }, []);\n\n  const closeModal = () => {\n    setModal(false);\n    props.history.push(`/dashboard/menu/${props.match.params.menu}`);\n  };\n\n  const openClose = () => {\n    setModal(!modal);\n    props.history.push(`/dashboard/menu/${props.match.params.menu}`);\n  };\n\n  const handleChange = e => setSection(e.target.value);\n\n  const handleSubmit = async e => {\n    setBtn(true);\n    e.preventDefault();\n\n    if (section === '') {\n      InfoAlert('Llena el campo de nombre');\n      setBtn(false);\n      return;\n    }\n\n    const secciones = props.sections.length;\n    const newSection = {\n      name: section,\n      id_menu: props.match.params.menu,\n      index: secciones\n    };\n    const result = await PostMethod(newSection, 'api/users/section', {\n      Authorization: 'Bearer ' + token\n    }); //console.log(result.response.data)\n\n    if (result.ok) {\n      props.addSection(result.response.data);\n      setBtn(false);\n      SuccesAlert('SecciÃ³n creada');\n      props.history.push(`/dashboard/menu/${props.match.params.menu}`);\n    } else {\n      ErrorAlert('Algo salio mal');\n      setBtn(false);\n      props.history.push(`/dashboard/menu/${props.match.params.menu}`);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Modal, {\n    toggle: modal,\n    toggleModal: openClose,\n    cerrarFunction: closeModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(FieldInput, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    style: {\n      color: 'var(--colordos)',\n      fontSize: '1.5rem',\n      fontFamily: 'Bold',\n      textAlign: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 25\n    }\n  }, \"Crear secci\\xF3n\")), /*#__PURE__*/React.createElement(FieldInput, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FieldInput, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 29\n    }\n  }, \"Nombre de la secci\\xF3n\"), /*#__PURE__*/React.createElement(Input, {\n    name: \"nameSection\",\n    value: section,\n    onChange: handleChange,\n    placeholder: \"Escribe el nombre de la secci\\xF3n\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(FieldInput, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 25\n    }\n  }, btn ? /*#__PURE__*/React.createElement(SpinerForm, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 33\n    }\n  }) : /*#__PURE__*/React.createElement(ButtonAction, {\n    maxWidth: \"100%\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 33\n    }\n  }, \"Agregar\"))))));\n}; //---------->FUNCIONES DE REDUX\n\n\nconst mapStateToProps = state => {\n  return {\n    sections: state.menuSection,\n    sesion: state.login\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    addSection: data => {\n      dispatch({\n        type: 'ADD_SECTION',\n        data: data\n      });\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateSection);","map":{"version":3,"sources":["/Users/Buffalo/Desktop/menu/copia/Provisional_rep_menu/src/pages/auth/menu-editar/forms/create-section.jsx"],"names":["React","Modal","Form","FieldInput","Label","Input","ButtonAction","connect","PostMethod","ErrorAlert","SuccesAlert","InfoAlert","SpinerForm","CreateSection","props","token","sesion","modal","setModal","useState","section","setSection","btn","setBtn","useEffect","closeModal","history","push","match","params","menu","openClose","handleChange","e","target","value","handleSubmit","preventDefault","secciones","sections","length","newSection","name","id_menu","index","result","Authorization","ok","addSection","response","data","color","fontSize","fontFamily","textAlign","mapStateToProps","state","menuSection","login","mapDispatchToProps","dispatch","type"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Modal from '../../../../components/modales/modal';\nimport { Form, FieldInput, Label } from '../../../../components/inputs/item-forms';\nimport { Input } from '../../../../components/inputs/inputs';\nimport { ButtonAction } from '../../../../components/buttons/button-action';\nimport {connect} from 'react-redux'\nimport { PostMethod } from '../../../../utils/peticiones';\nimport { ErrorAlert, SuccesAlert, InfoAlert } from '../../../../utils/alertas';\nimport SpinerForm from '../../../../components/spiners/spiner-form';\n\n\nconst CreateSection = (props) => {\n\n    //name\n    //index\n    //id_menu\n\n    //console.log('DESDE MODAL', props)\n    const token = props.sesion.token\n    const [modal, setModal] = React.useState(false)\n    const [section, setSection] = React.useState('')\n    const [btn, setBtn] = React.useState(false)\n\n    React.useEffect(()=>{ setModal(true) },[])\n\n    const closeModal = () => {\n        setModal(false)\n        props.history.push(`/dashboard/menu/${props.match.params.menu}`)\n    }\n\n    const openClose = () => {\n        setModal(!modal)\n        props.history.push(`/dashboard/menu/${props.match.params.menu}`)\n    }\n\n    const handleChange = (e) => setSection(e.target.value)\n\n    const handleSubmit = async  (e) =>{\n        setBtn(true)\n        e.preventDefault();\n\n        if(section === ''){\n            InfoAlert('Llena el campo de nombre')\n            setBtn(false)\n            return;\n        }\n\n        const secciones = props.sections.length\n\n        const newSection = {\n            name: section,\n            id_menu:props.match.params.menu,\n            index:secciones\n        }\n\n        const result = await PostMethod(newSection, 'api/users/section', {Authorization:'Bearer ' + token})\n        //console.log(result.response.data)\n        if(result.ok){\n            props.addSection(result.response.data)\n            setBtn(false)\n            SuccesAlert('SecciÃ³n creada')\n            props.history.push(`/dashboard/menu/${props.match.params.menu}`)\n        }else{\n            ErrorAlert('Algo salio mal')\n            setBtn(false)\n            props.history.push(`/dashboard/menu/${props.match.params.menu}`)\n        }\n\n    }   \n\n\n\n\n\n\n    return (\n        <>\n            <Modal toggle={modal} toggleModal={openClose} cerrarFunction={closeModal}>\n\n                <Form onSubmit={handleSubmit}>\n                    <FieldInput>\n                        <h1 style={{    color:'var(--colordos)',\n                                        fontSize:'1.5rem',\n                                        fontFamily:'Bold',\n                                        textAlign:'center'\n                                        }}>Crear secciÃ³n</h1>\n\n                    </FieldInput>\n\n\n                    <FieldInput>\n\n                        <FieldInput>\n                            <Label>Nombre de la secciÃ³n</Label>\n                            <Input  name=\"nameSection\"\n                                    value={section}\n                                    onChange={handleChange}\n                                    placeholder=\"Escribe el nombre de la secciÃ³n\"\n                                    />\n                        </FieldInput>\n                        \n                        <FieldInput>\n                            {btn ? \n                                <SpinerForm/>\n                                :\n                                <ButtonAction maxWidth=\"100%\">Agregar</ButtonAction>\n                            }\n                        </FieldInput>\n\n                    </FieldInput>\n                </Form>\n                \n            </Modal>   \n        </>\n    );\n};\n\n\n\n\n\n\n//---------->FUNCIONES DE REDUX\n\nconst mapStateToProps = (state) => {\n    return {\n        sections: state.menuSection,\n        sesion: state.login\n    }\n}\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        addSection: (data) => {\n            dispatch({type:'ADD_SECTION', data:data})\n        }\n    }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateSection)\n"]},"metadata":{},"sourceType":"module"}